# Введение в UNIX-системы

## Домашняя работа

### Урок 3. Права и пользователи в UNIX

1. ##### **Создать файл file1 и наполнить его произвольным содержимым. Скопировать его в file2. Создать символическую ссылку file3 на file1. Создать жесткую ссылку file4 на file1. Посмотреть, какие айноды у файлов. Удалить file1. Что стало с остальными созданными файлами? Попробовать вывести их на экран.**

   ```bash
   ps aux > file.1        #Создаем фаил с содержимым - списком процессов
   cp file.1 file.2       #Копируем фаил file.1 в file.2
   ln -s file.1 file.3    #Создаем символическую ссылку file.3 на фаил file.1
   ln -P file.1 file.4    #Создаем жесткую ссылку file.4 на фаил file.1
   ls -i                  #Смотрим inode объектов
   rm file.1              #Удаляем file.1. 
   
   #Фаил 3 не выводится - нет файла или каталога, но ссылка осталась (раскрасилась красным). 
   #cat: file.3: No such file or directory
   #Файлы 2 и 4 без изменений
   ```

   

2. ##### **Дать созданным файлам другие, произвольные имена. Создать новую символическую ссылку. Переместить ссылки в другую директорию.**

   ```bash
   for d in ~/*; do mv $d $d.newname; done #Переименновываем объекты
   mkdir dir_for_symlink                   #Создаем директорию
   mv file.{3..5}* ./dir_for_symlink/      #Т.к. линки у нас с индексом >2 переносим файлы 
                                           #с именемм >2 в новый каталог
   ```

   

3. ##### **Создать два произвольных файла. Первому присвоить права на чтение, запись для владельца и группы, только на чтение — для всех. Второму присвоить права на чтение, запись — только для владельца. Сделать это в численном и символьном виде.**

   ```bash
   touch file01 file02
   chmod u=rw,g=-,o=r file01
   chmod 604 file01
   chmod u=rw,g=-,o=- file02
   chmod 600 file02
   ```

   

4. ##### **Создать пользователя, обладающего возможностью выполнять действия от имени суперпользователя.**

   ```bash
   useradd -m -U -G sudo gbuser
   ```

   

5. ##### **\* Создать группу developer и несколько пользователей, входящих в нее. Создать директорию для совместной работы. Сделать так, чтобы созданные одними пользователями файлы могли изменять другие пользователи этой группы.**

   ```bash
   sudo groupadd -g 666 developer
   useradd -m -U -G developer jhon
   useradd -m -U -G developer bill
   mkdir exchange_dev
   sudo chown sa:developer exchange_dev/
   chmod 760 exchange_dev/
   chmod a+s exchange_dev/
   ```

   

6. ##### **\* Создать в директории для совместной работы поддиректорию для обмена файлами, но чтобы удалять файлы могли только их создатели.**

   ```bash
   mkdir ./exchange_dev/share
   chmod +t exchange_dev/share/
   ```

   

7. ##### **\* Создать директорию, в которой есть несколько файлов. Сделать так, чтобы открыть файлы можно было, только зная имя файла, а через ls список файлов посмотреть было нельзя*

   ```bash
   mkdir ex07
   ps > ./ex07/file1
   ps auf > ./ex07/file2
   chmod 333 ex07
   ```

   ![image-20220220095700258](C:\Users\itete\AppData\Roaming\Typora\typora-user-images\image-20220220095700258.png)